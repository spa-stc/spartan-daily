---
import Layout from "../layouts/Layout.astro";
import Showcase from "../components/Showcase.astro";
import Announcements from "../components/Announcements.astro";
import XPeriod from "../components/today/XPeriod.astro";
import Lunch from "../components/today/Lunch.astro";
import Schedule from "../components/today/Schedule.astro";
import HouseCup from "../components/housecup/HouseCup.astro";
import Google from "../utils/google";
import QRCode from "../components/QRCode.astro";

const feedback = await Google.getFeedback();
const submissions = await Google.getSubmission();
const newsletter = await Google.getNewsletter();
---

<Layout title="Spartan Daily">
  <main class="p6 ma" style="max-width: 220ch;">
    <div class="grid grid-cols-6 gap-3">
      <div class="row-span-3 col-span-2">
        <Announcements />
      </div>
      <div class="col-span-3">
        <Showcase />
      </div>
      <ul class="space-y-3 row-span-3">
        <HouseCup />
        <QRCode title="Student Newsletter" data={newsletter} />
        <QRCode title="Feedback" data={feedback} />
        <QRCode title="Submissions" data={submissions} />
      </ul>
      <Schedule />
      <XPeriod />
      <Lunch />
    </div>
  </main>
</Layout>
